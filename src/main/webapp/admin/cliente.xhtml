<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"  
      template="/templates/template.xhtml">
      
    <ui:define name="titulo">Clientes</ui:define>
        
    <ui:define name="conteudo">
        <p:tabView>
            <p:tab title="Cadastrar">
                <h:form>
                    <p:panelGrid>
                        <h:inputHidden value="#{clienteMBean.cliente.id}"/>
                        <p:outputLabel value="Nome:"/>
                        <br/>
                        <p:inputText value="#{clienteMBean.cliente.nome}"
                                     requiredMessage="Campo nome obrigatório"
                                     validatorMessage="Campo nome não pode passar de 100 caracteres" size="70">
                        <f:validateLength maximum="100"/>
                        </p:inputText>
                        <br/>
                        
                        
                                                
                        <p:outputLabel value="Email:"/>
                        <br/>
                        <p:inputText value="#{clienteMBean.cliente.email}"
                                     requiredMessage="Campo email obrigatório"
                                     validatorMessage="Campo email não pode passar de 100 caracteres" 
                                     size="70"
                                     maxlength="100">             
                        </p:inputText>
                        <br/>
                        
                                           
                        
                        <p:outputLabel value="Cpf:"/>
                        <br/>
                                               
                        <p:inputMask value="#{clienteMBean.cliente.cpf}"
                                     requiredMessage="Campo cpf obrigatório"
                                     validatorMessage="Campo cpf" size="20"
                                     mask="999.999.999-99"/>
                         <br/>
                                                
                        
                         
                         <p:outputLabel value="Senha:"/>
                        <br/>
                         
                        
                        <p:password
                            value="#{clienteMBean.cliente.senha}"
                            requiredMessage="Campo senha obrigatório"
                            validatorMessage="Campo senha não pode passar de 15 caracteres" size="20" />
                            
                        <br/>   
                                                   
                        
              
                        <p:commandButton value="SALVAR" icon="ui-icon-mail-closed" ajax= "false" action="#{clienteMBean.salvar}"/>
                    </p:panelGrid>
                </h:form>
            </p:tab>
                
            <p:tab title="Clientes">
                <h:form>
                    <p:dataTable var="cliente" value="#{clienteMBean.listaCompleta}" scrollable="true" scrollHeight="300">
                <p:column headerText="Id" footerText="Id">
                    <h:outputText value="#{cliente.id}"/>
                </p:column>
                
                <p:column headerText="Nome" footerText="Nome" sortBy="Nome">
                    <h:outputText value="#{cliente.nome}"/>
                </p:column>
                
                <p:column headerText="Email" footerText="Email">
                    <h:outputText value="#{cliente.email}"/>
                </p:column>
                
                <p:column headerText="Ação" footerText="Ação">
                    <p:commandButton icon="ui-icon-search" ajax="false" action="#{clienteMBean.selecionar(cliente)}"/>
                    <p:commandButton icon="ui-icon-trash" ajax="false" action="#{clienteMBean.deletar(cliente)}" onclick="return confirm('Excluir?')"/>
                </p:column>
               
            </p:dataTable>
                </h:form>
                </p:tab>
        </p:tabView>
    </ui:define>
</ui:composition>

